<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
    <script type="text/javascript" src="{{ url_for('static', filename='script.js') }}" defer></script>
    <title>HabiTrain | Overcome Bad Habits</title>
</head>
<body>
  <!-- Navigation Bar -->
  <header>
    <nav class="navbar">
      <div class="navbar-content">
        <a href="{{ url_for('views.index') }}"><div class="logo-container">
            <img src="{{url_for('static', filename='images/logo.png')}}" class="logo">
            <span>HabiTrain</span>
        </div></a>
        <div class="nav-links">
            <a href="{{ url_for('views.index') }}" class="nav-link-active">Home</a>
            <a href="#">About Us</a>
            <a href="#">Contact</a>
        </div>
       
        <div class="nav-btns">
          {% if user_logged_in %}
            <img href="{{ url_for('views.profile') }}" src="{{url_for('static', filename='images/user-icon.png')}}" class="profile-icon">
            <button class="btn btn-secondary" id="sign-in-link">Log out</button>
          {% else %}
            <button class="btn btn-secondary top-bar-btn" id="sign-in-link">Sign in</button>
            <button href="#" class="btn btn-primary top-bar-btn" id="registration-link">Register</button>
          {% endif %}
        </div>
      </div>
    </nav>
</header>

  <!-- Hero Section -->
  <section id="hero" class="hero-section">
    <div class="hero-content fade-in">
      <h1>
        Leave Bad Habits Behind with 
        <span class="hero-title-highlight">HabiTrain</span>
      </h1>
      <img src="{{url_for('static', filename='images/hero-image.png')}}" class="hero-img">
      <p>Break free from what's holding you back. Start your journey to a healthier, happier you today.</p>
      <button href="#" id="registration-link" class="btn get-started-btn">Get Started</button>
    </div>
  </section>
  
<!-- Features section -->
  <section id="features" class="features-section">
    <div class="features-container">
      <h2 class="fade-in">What's in here for you?</h2>
      <p class="fade-in">Take control of your future. Set goals, track progress, and embrace the journey to the best version of yourself!</p>
      <div class="features-grid">
        <div class="feature-card feature-card-primary slide-up">
          <h3>Transform Your Habits</h3>
          <p>It's not about perfection, it's about progress. HabiTrain helps you take control of the habits that matter most. Start small, stay consistent, and watch your life change for the better.</p>
        </div>
        <div class="feature-card feature-card-secondary slide-up">
          <h3>Stay Motivated, Every Single Day</h3>
          <div class="feature-with-img">
            <p>Stay on track with daily reminders, journal prompts, and progress tracking, helping you move closer to your goals with every passing day.</p>
            <img src="{{url_for('static', filename='images/calendar.png')}}" class="feature-img">
          </div>
        </div>
        <div class="feature-card feature-card-tertiary slide-up">
          <h3>Get Personalized Support</h3>
          <div class="feature-with-img">
            <p>Everyone's journey is unique. HabiTrain offers personalized emotional support with interactive experiences tailored to your goals to help you stay on course when challenges arise. You're never alone on this path.</p>
            <img src="{{url_for('static', filename='images/support-img.png')}}" class="feature-img">
          </div>
        </div>
        <div class="feature-card feature-card-quaternary slide-up">
          <h3>Celebrate Your Wins</h3>
          <p>Every victory counts, no matter how small. HabiTrain celebrates every achievement, motivating you to keep going.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- How it works section - Or some steps to show the user -->
  <section id="how-it-works" class="how-it-works">
    <h2 class="fade-in">Your Habit-Breaking Journey</h2>
  
    <div class="how-it-work-container slide-up">
      <div class="hiw-card">
        <img src="{{url_for('static', filename='images/screenshot-placeholder.jpg')}}" class="hiw-img">
        <div class="hiw-number-wrap"><div>1</div></div>
        <div class="step-content">
          <h3 class="highlight">Get Started</h3>
          <p>Sign up and create your account in just a few steps.<br>Complete a brief questionnaire to select the habit you want to overcome, set your goal (in days), and choose a virtual companion to support you through your journey.</p>
        </div>
      </div>

      <div class="hiw-card">
        <img src="{{url_for('static', filename='images/screenshot-placeholder.jpg')}}"  class="hiw-img">
        <div class="hiw-number-wrap"><div>2</div></div>
        <div class="step-content">
          <h3 class="highlight secondary">Track Your Progress Daily</h3>
          <p>Log in daily to track your progress by completing a quick check-in. Record how you're feeling, whether you stuck to your goal, and watch your companion grow with each successful day.</p>
        </div>
      </div>

      <div class="hiw-card">
        <img src="{{url_for('static', filename='images/screenshot-placeholder.jpg')}}" class="hiw-img">
        <div class="hiw-number-wrap"><div>3</div></div>
        <div class="step-content">
          <h3 class="highlight accent">Refine Your Journey</h3>
          <p>Review your progress, celebrate small victories, and adjust your goals to keep pushing forward. Every step counts, and ASIL keeps you motivated by offering personalized insights, challenges, and rewards.</p>
        </div>
      </div>
  </section>

  <!-- Testimony Section -->
  <section id="testimonial-section" class="testimonials-section">
    <h2 class="fade-in">What Others Are Saying</h2>
    <div class="testimonial-wrapper slide-up">
      <button class="nav-btn prev-btn">❮</button>
      <div id="testimonial-card" class="testimonial-card">
        <img id="testimony-avatar" src="{{url_for('static', filename='images/dog.png')}}" class="testimonial-avatar">
        <div class="testimonial-content">
          <h5 class="quote-icon top">“</h5>
            <h3 id="testimony-name">Cara Lopez</h3>
            <h4 id="testimony-title">AMAZING WEB APP!
                <span id="testimony-rating" class="testimonial-rating">⭐⭐⭐⭐⭐</span>
            </h4>
            <p id="testimony-text">Energy drinks used to control my life — I struggled for years to cut back, trying every method I could find, but nothing really worked. Then I found HabiTrain, and it made all the difference. It gave me the motivation I desperately needed, and honestly, it was so rewarding to see my little puppy grow as I made progress. Breaking this bad habit finally felt doable — and even fun. Thank you, HabiTrain!</p>
            <h5 class="quote-icon bottom">”</h5> 
        </div>
      </div>
      <button class="nav-btn next-btn">❯</button>
    </div>

    <div class="testimonial-bars slide-up">
      <span id="testimony-bar" class="bar active"></span>
      <span id="testimony-bar" class="bar"></span>
      <span id="testimony-bar" class="bar"></span>
      <span id="testimony-bar" class="bar"></span>
    </div>
  </section>

  <!-- Call to action section -->
  <section id="cta-section" class="cta-section slide-up">
    <div class="cta-content">
      <h3>Your journey starts here:</h3>
      <h2><strong>Break free</strong> from bad habits and discover the <strong>best version of yourself</strong></h2>
      <div>
        <a href="#" id="registration-link" class="cta-button">Get Started Today</a>
      </div>
    </div>
    <img src="{{url_for('static', filename='images/journey.jpg')}}" class="cta-image">
  </section>

  <!-- Footer section -->
  <footer id="footer" class="footer slide-up">
    <div class="footer-content">
      <div class="footer-logo">
        <img src="{{ url_for('static', filename='images/logo.png') }}" class="brand-logo">
        <span>HabiTrain</span>
      </div>
      
      <div class="footer-section">
        <h5>Explore</h5>
        <ul>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Contact Us</a></li>
          <li><a href="#">Blog</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h5>Follow Us</h5>
        <div class="social-links">
          <a href="#"><img src="{{ url_for('static', filename='images/facebook.png') }}" alt="Facebook" class="social-icon"></a>
          <a href="#"><img src="{{ url_for('static', filename='images/twitter.png') }}" alt="Twitter" class="social-icon"></a>
          <a href="#"><img src="{{ url_for('static', filename='images/instagram.png') }}" alt="Instagram" class="social-icon"></a>
        </div>
      </div>

      <div class="footer-section">
        <h5>Support</h5>
        <img src="{{ url_for('static', filename='images/support.png') }}" class="social-icon">
      </div>
    </div>
  </footer>
  <div class="footer-bottom slide-up"><p>© 2025 HabiTrain. All rights reserved.</p></div>


  <!-- Html Code for Modals / Popups -->
  <!-- Sign in Modal-->
  <div id="sign-in-modal" class="modal">
    <div class="modal-content">
        <span id="close-btn-1" class="close-btn">&times;</span>
        <div class="modal-inner-padding">
          <img src="{{ url_for('static', filename='images/logo.png') }}" class="modal-logo">
          <h2>Welcome Back</h2>
          <form action="{{ url_for('auth.sign_in') }}" method="POST">
              <label for="username">Username:</label>
              <input type="text" id="username" name="username" autocomplete="username" placeholder="Enter your username" required>
              
              <label for="password">Password:</label>
              <div class="password-container">
                <input type="password" id="password-sign-in" name="password" placeholder="Enter your password" autocomplete="current-password" required>
                <img class="toggle-password" id="toggle-password-sign-in" alt="" src="{{ url_for('static', filename='images/eye-hide.png') }}">
              </div>

              <div class="forgot-password" > 
                <a href="#" id="forgot-password-link">Forgot Password?</a>
              </div>

              <!-- Need to make the same like can't find - or incorrect username or password error -->
              <!-- <div id="password-mismatch-error" class="error-container" style="display: none;">
                <span class="error-icon">!</span>
                <span class="error-message-text">Passwords do not match!</span>
              </div> -->   

              <div class="button-container">
                <button type="submit" class="btn btn-primary">Log In</button>
              </div>
              
              <p class="follow-up-text">Don't have an account? <a href="#" id="registration-link">Register Now</a></p>
          </form>
      </div>
    </div>
  </div>

  <!-- Registration Modal -->
  <div id="registration-modal" class="modal">
    <div class="modal-content">
        <span id="close-btn-2" class="close-btn">&times;</span>
        <div class="modal-inner-padding">
            <img src="{{ url_for('static', filename='images/logo.png') }}" class="modal-logo">
            <h2>Create an Account</h2>
            <form id="registration-form" action="{{ url_for('auth.registration') }}" method="POST">
            
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" autocomplete="username" placeholder="Enter your username" required>
                
                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" autocomplete="email" placeholder="Enter your email address" required>
                
                <label for="password">Password:</label>
                <div class="password-container">
                    <input type="password" id="registration-password" name="password" autocomplete="new-password" placeholder="Enter your password" required>
                    <img class="toggle-password" id="toggle-registration-password" alt="" src="{{ url_for('static', filename='images/eye-hide.png') }}">
                </div>

                <div class="confirm-password-container" id="confirm-password-container">
                    <label for="confirm-password">Confirm Password:</label>
                    <div class="password-container">
                        <input type="password" id="confirm-password" name="confirm_password" autocomplete="new-password" placeholder="Re-enter your password" required>
                        <img class="toggle-password" id="toggle-confirm-password" alt="" src="{{ url_for('static', filename='images/eye-hide.png') }}">
                    </div>
                </div>

                <div id="password-mismatch-error" class="error-container" style="display: none;">
                  <span class="error-icon">!</span>
                  <span class="error-message-text">Passwords do not match!</span>
                </div>

                <div class="checkbox-container">
                  <input type="checkbox" id="registration-waiver" name="registration-waiver" class="checkbox-waiver" required>
                  <label for="registration-waiver" id="">I read and agree to <a href="#">Terms & Conditions</a></label>
                </div>  
                
                <div class="button-container">
                    <button type="submit" class="btn btn-primary">Register</button>
                </div>
                
                <p class="follow-up-text">Already have an account? <a href="#" id="sign-in-link">Sign in</a></p>
            </form>
        </div>
    </div>
  </div>

  <!-- Brief Questionnaire Modal -->
 <section id="brief-questionnaire-modal-container">
    <form action="{{ url_for('auth.registration') }}" method="POST" id="questionnaire-form" novalidate>
      <div id="brief-questionnaire-modal" class="modal">
        <div class="modal-content brief-questionnaire-modal-content">
          <img src="/static/images/questionnaire-background.png" alt="" class="background-img">
          <!-- First page -->
          <div class="questionnaire-page page-1 active" id="page-1">
            <div class="center-content">
              <img src="{{ url_for('static', filename='images/logo.png') }}" class="modal-logo">
              <h2>Brief Questionnaire</h2>
              <p>This form helps create a clear path to your goals and track your progress over time. Please respond to the best of your knowledge.</p>
              
              <div class="checkbox-container">
                <input type="checkbox" id="questionnaire-waiver" name="questionnaire-waiver" class="checkbox-waiver" required>
                <label for="questionnaire-waiver" id="checkbox-label">I agree that I must stay truthful and loyal to my responses using HabiTrain</label>
              </div>          
                
              <div id="waiver-error" class="error-container" style="display: none; margin-top: -10px">
                <span class="error-icon">!</span>
                <span class="error-message-text">You must agree to the waiver.</span>
              </div>
              
              <div class="button-container">
                <button class="btn btn-primary navigate-button" data-current-page="0" data-direction="next">Next</button>
              </div>
            </div>
          </div>

          <!-- Second page -->
          <div class="questionnaire-page page-2" id="page-2" style="background-image: url('/static/images/questionnaire-background.png');">
            <div class="center-content">
              <h2>Define your Habits and Goals</h2>
              <p>Let's start by identifying the habits you want to overcome and setting goals for your progress.</p>

              <label for="bad-habit">What is/are the bad habits you want to overcome?</label>
              <input type="text" id="bad-habit" name="bad-habit" placeholder="e.g.s Smoking, Alcohol consumption." />
              
              <div id="bad-habit-error" class="error-container" style="display: none;">
                <span class="error-icon">!</span>
                <span class="error-message-text">Please enter a bad habit.</span>
              </div>

              <label for="goal-duration">Please select your goal: the number of days you aim to stay without engaging in your bad habit:</label>
              <select id="goal-duration" name="goal-duration">
                <option value="default">Select your goal</option>
                <option value="10">10 days</option>
                <option value="15">15 days</option>
                <option value="20">20 days</option>
                <option value="25">25 days</option>
                <option value="30">1 month</option>
                <option value="60">2 months</option>
                <option value="90">3 months</option>
              </select>

              <div id="goal-duration-error" class="error-container" style="display: none;">
                <span class="error-icon">!</span>
                <span class="error-message-text">Please select a goal duration.</span>
              </div>

            </div>
            <div class="button-container-questionnaire">
              <button class="btn btn-primary navigate-button" data-current-page="1" data-direction="previous">Previous</button>
              <button class="btn btn-primary navigate-button" data-current-page="1" data-direction="next">Next</button>
            </div>
          </div>

          <!-- Third page -->
          <div class="questionnaire-page page-3" id="page-3" style="background-image: url('/static/images/questionnaire-background.png');">
            <div class="center-content">
              <h2>Choose your Companion</h2>

              <label for="companion-name">Name your companion:</label>
              <input type="text" id="companion-name" name="companion-name" placeholder="e.g., Luna, Blaze, Sprout" />
              
              <div id="companion-name-error" class="error-container" style="display: none;">
                <span class="error-icon">!</span>
                <span class="error-message-text">Please enter companion's name.</span>
              </div>

              <label for="companion-selection">Choose one of the companions below:</label>
              <div class="companion-selection-container">

                <div class="companion-grid">
                  <div class="image-selector">
                    <input type="radio" id="companion1" name="companion" value="plant" required>
                    <label for="companion1">
                      <img src="{{ url_for('static', filename='images/plant.jpg') }}" alt="companion 1" class="companion-img">
                      <!-- <iframe src="{{ url_for('static', filename='images/companions/slime.pdf') }}" 
                      class="companion-img"
                      style="width: 100%; height: 500px; border: none;">
                      </iframe> -->
                    </label>
                  </div>

                  <div class="image-selector">
                    <input type="radio" id="companion2" name="companion" value="dog" required>
                    <label for="companion2">
                      <img src="{{ url_for('static', filename='images/dog.png') }}" class="companion-img">
                      <!-- <iframe src="{{ url_for('static', filename='images/companions/sprout.pdf') }}" 
                      class="companion-img"
                      style="width: 100%; height: 500px; border: none;">
                      </iframe> -->
                    </label>
                  </div>

                  <div class="image-selector">
                    <input type="radio" id="companion3" name="companion" value="dragon" required>
                    <label for="companion3">
                      <img src="{{ url_for('static', filename='images/dragon.png') }}" class="companion-img">
                    </label>
                  </div>

                  <div class="image-selector">
                    <input type="radio" id="companion4" name="companion" value="cat" required>
                    <label for="companion4">
                      <img src="{{ url_for('static', filename='images/cat.jpg') }}" class="companion-img">
                    </label>
                  </div>

                  <div class="image-selector">
                    <input type="radio" id="companion5" name="companion" value="slime" required>
                    <label for="companion5">
                      <img src="{{ url_for('static', filename='images/slime.png') }}" class="companion-img">
                    </label>
                  </div>

                  <div class="image-selector">
                    <div class="more-soon">+ more soon</div>
                  </div>
                </div>

                <div id="companion-error" class="error-container" style="display: none; ">
                  <span class="error-icon">!</span>
                  <span class="error-message-text">Please select a companion.</span>
                </div>
              </div>
            </div>

            <div class="button-container-questionnaire">
              <button class="btn btn-primary navigate-button" data-current-page="2" data-direction="previous">Previous</button>
              <button class="btn btn-primary navigate-button" id="submit-questionnaire">Submit</button>
            </div>
          </div>
      </div>
    </div>
  </form>
</section>


<script>
  // Temp variables for test purposes
  // const user_logged_in = true;
  // const bad_habit = 0;

  document.addEventListener('DOMContentLoaded', () => {
    if(user_logged_in & bad_habit === 0) {
      launchBriefQuestionnaire();
    }
  });

</script>

</body>
</html>